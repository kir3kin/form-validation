(this.webpackJsonpform_validation=this.webpackJsonpform_validation||[]).push([[0],{25:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(5),i=n(7),c=n(2),s=n(9),o=n.n(s),u=n(13);var l=Object(i.b)("form/sendFormData",function(){var e=Object(u.a)(o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout((function(){return e({data:"You are loged in"})}),2e3)}));case 2:return a=e.sent,n.dispatch(d()),e.abrupt("return",{data:a.data,emptyStoreInputs:t});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d=Object(i.b)("form/hideLogStatus",Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout((function(){return e("")}),2e3)}));case 2:case"end":return e.stop()}}),e)})))),m=Object(i.c)({name:"form",initialState:{inputs:{},loading:!1,formDisable:!1,logIn:{msg:"",status:"not logged"}},reducers:{changeInput:function(e,t){e.inputs=Object(c.a)(Object(c.a)({},e.inputs),t.payload)}},extraReducers:function(e){e.addCase(l.pending,(function(e){e.loading=!0,e.formDisable=!0})).addCase(l.fulfilled,(function(e,t){e.loading=!1,e.formDisable=!1,e.inputs=Object(c.a)(Object(c.a)({},e.inputs),t.payload.emptyStoreInputs),e.logIn={msg:t.payload.data,status:"logged"}})).addCase(d.fulfilled,(function(e){e.logIn.status="not logged"}))}}),j=m.actions.changeInput,b=function(e){return e.form.inputs},f=function(e){return e.form.loading},p=function(e){return e.form.formDisable},O=function(e){return e.form.logIn},h=m.reducer,v=Object(i.a)({reducer:{form:h}}),x=n(8),g=n(6),_=x.c,w=(n(25),n(1)),y=function(e){var t=e.text;return Object(w.jsx)("div",{className:"item__alert note",children:t})},N=n(30),k=function(e){var t=e.id,n=e.name,a=e.type,r=e.value,i=e.label,c=e.inputHandler,s=_(b),o=_(p),u=!1,l=["item__label"],d=["item__input"],m={id:t||n,label:i||"User ".concat(a),value:s[n]?s[n].value:r,isValid:!!s[n]&&s[n].isValid,isChecked:!!s[n]&&s[n].isChecked};m.value.trim()&&l.push("item__label--active");var j=m.isChecked?m.isValid?"success":"warning":"";return d.push("item__input--".concat(j)),m.isChecked&&!m.isValid&&(u=!0),Object(w.jsxs)("div",{className:"form__item item",children:[Object(w.jsx)("input",{id:m.id,name:n,type:a,value:m.value,className:d.join(" "),onChange:function(e){return c(e)},disabled:o}),Object(w.jsx)("label",{htmlFor:m.id,className:l.join(" "),children:m.label}),Object(w.jsx)(N.a,{in:u,timeout:800,classNames:"alert",mountOnEnter:!0,unmountOnExit:!0,children:Object(w.jsx)(y,{text:"Please, enter correct ".concat(m.label)})})]})},C=(n(27),function(){return Object(w.jsx)("div",{className:"form__loader",children:Object(w.jsxs)("div",{className:"lds-ring",children:[Object(w.jsx)("div",{}),Object(w.jsx)("div",{}),Object(w.jsx)("div",{}),Object(w.jsx)("div",{})]})})}),E=function(){var e=Object(x.b)(),t=_(b),n=_(f),r=_(p),i=_(O),s=function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",c=Object(g.a)({},t,{type:n,value:i,pattern:r?r.toString():"",isValid:!1,isChecked:!1});return Object(a.useEffect)((function(){e(j(c))}),[]),{name:t,type:n,value:i,inputHandler:u}},o=function(e){var t=e.pattern?new RegExp(e.pattern):{email:/^\w+@\w+(\.[a-z]+)+$/i,password:/^[\w!?@()&$-]{8,20}$/,tel:/^\d{3}-?\d{3}-?\d{3}$/}[e.type];e.isValid=t.test(e.value),e.isChecked=!0},u=function(n){var a=n.target.value,r=n.target.type,i=n.target.name,c=Object(g.a)({},i,{type:r,value:a,pattern:t[i].pattern});o(c[i]),e(j(c))};return Object(w.jsx)("form",{className:"form",onSubmit:function(n){return function(n){n.preventDefault();var a=[],r=[];if(Object.keys(t).map((function(e){var n={name:e,content:Object(c.a)({},t[e])};return t[e].isChecked&&t[e].isValid?r.push(n):a.push(n),e})),a.length)a.map((function(t){return o(t.content),e(j(Object(g.a)({},t.name,t.content))),t}));else{var i={};r.map((function(e){return e.content=Object(c.a)(Object(c.a)({},e.content),{value:"",isChecked:!1,isValid:!1}),i=Object(c.a)(Object(c.a)({},i),Object(g.a)({},e.name,e.content)),e})),e(l(i))}}(n)},children:Object(w.jsxs)("div",{className:"form__wrapper",children:[Object(w.jsx)(N.a,{in:"logged"===i.status,timeout:800,classNames:"alert",mountOnEnter:!0,unmountOnExit:!0,children:Object(w.jsx)("div",{className:"form__info",children:i.msg})}),Object(w.jsx)("h2",{className:"form__header",children:"Log in"}),Object(w.jsxs)("div",{className:"form__body",children:[Object(w.jsx)(k,Object(c.a)({id:"user-email",label:"email"},s("user_email","email"))),Object(w.jsx)(k,Object(c.a)({id:"user-phone",label:"phone number"},s("user_phone","tel"))),Object(w.jsx)(k,Object(c.a)({id:"user-password",label:"password"},s("user_password","password","^[\\w!?@()&$-]{10,20}$"))),Object(w.jsx)(N.a,{in:n,timeout:800,classNames:"alert",mountOnEnter:!0,unmountOnExit:!0,children:Object(w.jsx)(C,{})}),Object(w.jsx)("button",{disabled:r,type:"submit",className:"form__button",children:"Send"})]})]})})},I=function(){return Object(w.jsx)(E,{})};n(28);Object(r.render)(Object(w.jsx)(x.a,{store:v,children:Object(w.jsx)(I,{})}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.649c5214.chunk.js.map